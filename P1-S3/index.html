
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://https:/marcgnd.github.io/mkdocs-marc-sabate/P1-S3/">
      
      
        <link rel="prev" href="../P1-S2/">
      
      
        <link rel="next" href="../P1-S4/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>P1 S3 - MkDocs Marc Sabate</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduccio" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MkDocs Marc Sabate" class="md-header__button md-logo" aria-label="MkDocs Marc Sabate" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MkDocs Marc Sabate
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              P1 S3
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Implantació de sistemes operatius

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../P1-S1/" class="md-tabs__link">
        
  
  
    
  
  P1 S1

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../P1-S2/" class="md-tabs__link">
        
  
  
    
  
  P1 S2

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  P1 S3

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../P1-S4/" class="md-tabs__link">
        
  
  
    
  
  P1 S4

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../P1-S5/" class="md-tabs__link">
        
  
  
    
  
  P1 S5

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../P2-S1/" class="md-tabs__link">
        
  
  
    
  
  P2 S1

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../P2-S2/" class="md-tabs__link">
        
  
  
    
  
  P2 S2

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../P2-S3/" class="md-tabs__link">
        
  
  
    
  
  P2 S3

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../P2-S4/" class="md-tabs__link">
        
  
  
    
  
  P2 S4

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../P2-S5/" class="md-tabs__link">
        
  
  
    
  
  P2 S5

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MkDocs Marc Sabate" class="md-nav__button md-logo" aria-label="MkDocs Marc Sabate" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MkDocs Marc Sabate
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implantació de sistemes operatius
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../P1-S1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P1 S1
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../P1-S2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P1 S2
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    P1 S3
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    P1 S3
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccio" class="md-nav__link">
    <span class="md-ellipsis">
      Introducció
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installacio-domini-ldap" class="md-nav__link">
    <span class="md-ellipsis">
      Instal·lació domini LDAP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instal·lació domini LDAP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installacio-domini-ldap-amb-un-server" class="md-nav__link">
    <span class="md-ellipsis">
      Instal·lació domini LDAP amb un server
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entorns-grafics" class="md-nav__link">
    <span class="md-ellipsis">
      Entorns gràfics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entorns gràfics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apache-directory-studio" class="md-nav__link">
    <span class="md-ellipsis">
      Apache Directory Studio
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unir-equips-al-domini" class="md-nav__link">
    <span class="md-ellipsis">
      Unir equips al domini
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestio-del-domini" class="md-nav__link">
    <span class="md-ellipsis">
      Gestió del domini
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gestió del domini">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ldapadd" class="md-nav__link">
    <span class="md-ellipsis">
      ldapadd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ldapsearch" class="md-nav__link">
    <span class="md-ellipsis">
      ldapsearch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ldapmodify" class="md-nav__link">
    <span class="md-ellipsis">
      ldapmodify
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ldapdelete" class="md-nav__link">
    <span class="md-ellipsis">
      ldapdelete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#servidors-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      Servidors NFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Servidors NFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installacio-part-server" class="md-nav__link">
    <span class="md-ellipsis">
      Instal·lació part server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installacio-part-client-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Instal·lació part client Ubuntu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installacio-part-client-windows" class="md-nav__link">
    <span class="md-ellipsis">
      Instal·lació part client Windows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilitzar-el-servidor-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      Utilitzar el servidor NFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilitzar el servidor NFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nfs-amb-usuaris-ldap" class="md-nav__link">
    <span class="md-ellipsis">
      NFS amb usuaris LDAP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#servidor-samba" class="md-nav__link">
    <span class="md-ellipsis">
      Servidor Samba
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Servidor Samba">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installacio-i-conf-server" class="md-nav__link">
    <span class="md-ellipsis">
      Instal·lació i conf server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installacio-i-proves-client" class="md-nav__link">
    <span class="md-ellipsis">
      Instal·lació i proves client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilitzar-usuaris-ldap-per-autenticar-amb-samba" class="md-nav__link">
    <span class="md-ellipsis">
      Utilitzar usuaris ldap per autenticar amb samba
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../P1-S4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P1 S4
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../P1-S5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P1 S5
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../P2-S1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P2 S1
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../P2-S2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P2 S2
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../P2-S3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P2 S3
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../P2-S4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P2 S4
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../P2-S5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P2 S5
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h2 id="introduccio">Introducció</h2>
<p>En aquest sprint, descriurem com configurar en un entorn Ubuntu Linux un servidor LDAP per a la gestió centralitzada de dominis, usuaris, grups i polítiques de seguretat. El procés inclou la instal·lació i configuració d'un servidor LDAP, la creació de comptes d'usuari i la definició de polítiques de seguretat.</p>
<p>Instal·larem serveis essencials com servidors de fitxers, que s'integren amb LDAP per a l'autenticació centralitzada. Implementarem connexions remotes segures i gestionarem permisos d'accés mitjançant LDAP.</p>
<h1 id="installacio-domini-ldap">Instal·lació domini LDAP</h1>
<ul>
<li>
<p>Un domini LDAP (Lightweight Directory Access Protocol) és una estructura jeràrquica que s'utilitza per gestionar i organitzar informació sobre usuaris, grups, recursos i altres objectes en una xarxa. Serveix com a repositori centralitzat per a l'autenticació i la gestió d'accés, permetent que múltiples sistemes i aplicacions comparteixin la mateixa informació d'usuaris i permisos.</p>
</li>
<li>
<p>Una Unitat Organitzativa (UO) és un contenidor dins de l'estructura LDAP que s'utilitza per organitzar objectes com usuaris, grups i recursos. Les UO permeten una gestió més fàcil i lògica dels objectes, ja que es poden agrupar segons criteris com departaments, ubicacions o funcions.</p>
</li>
<li>
<p>Per crear un domini LDAP haurem de seguir els següents pasos:</p>
</li>
<li>
<p>En primer lloc mirarem l'ip de la nostra màquina servidor, en aquest cas la configurarem manualment i comprovarem si aquesta fa ping.
<img alt="LDAP1" src="../LDAP1.png" />
<img alt="LDAP2" src="../LDAP2.png" />
<img alt="LDAP3" src="../LDAP3.png" /></p>
</li>
<li>
<p>Per continuar canviarem el nom del host al nostre equip per a això editarem el fitxer <code>etc/hostname</code> i farem el mateix amb el fitxer <code>etc/hosts</code>
<img alt="LDAP4" src="../LDAP4.png" />
<img alt="LDAP5" src="../LDAP5.png" /></p>
</li>
<li>
<p>El següent pas ens implica si no tenim el paquet slapd, instalar-lo, un cop el tenim l'executem, això si, pot ser que hi hagin problemes fent la configuració, jo mateix en vaig viure un, si en aquest cas tenim algun impediment o contratemps podem tornar a reconfigurar el paquet amb la següent comanda, i llavors ja podrem procedir amb la configuració.
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>dpkg-reconfigure slapd
</code></pre></div>
<img alt="LDAP6" src="../LDAP6.png" /></p>
</li>
<li>
<p>Com podem veure ja sen's obre un menú de configuració que haurem d'anar emplenant tal i com es mostra a continuació, es important que s'elimini la base de dades que hi ha previa a l'instal·lació, simplement ens limitem a seguir els pasos que es mostren.</p>
</li>
</ul>
<p><img alt="LDAP7" src="../LDAP7.png" />
<img alt="LDAP8" src="../LDAP8.png" />
<img alt="LDAP9" src="../LDAP9.png" />
<img alt="LDAP10" src="../LDAP10.png" />
<img alt="LDAP11" src="../LDAP11.png" />
<img alt="LDAP12" src="../LDAP12.png" />
<img alt="LDAP13" src="../LDAP13.png" />
<img alt="LDAP14" src="../LDAP14.png" />
<img alt="LDAP15" src="../LDAP15.png" /></p>
<ul>
<li>
<p>Bàsicament el que hem fet es assignar una contrasenya i uns noms de domini. </p>
</li>
<li>
<p>Una vegada configurat el paquet per comprovar si ho hem fet correctament utilitzarem la comanda <code>slapcat</code></p>
</li>
</ul>
<p><img alt="LDAP16" src="../LDAP16.png" /></p>
<ul>
<li>Com es pot apreciar els valors coincideixen amb els de la configuració prèvia. Per continuar ara configurarem les "ou", grups i usuaris tal i com es mostra, també es veurà com aplicar els canvis al LDAP.</li>
<li>Es important que als arxius es tingui en compte els noms de domini que hem configurat ja que podria ser una font d'errors. En primer lloc configurem les OU a l'arxiu <code>ou.ldif</code></li>
</ul>
<p><img alt="LDAP17" src="../LDAP17.png" /></p>
<ul>
<li>A continuació configurem els grups al fitxer <code>group.ldif</code></li>
</ul>
<p><img alt="LDAP18" src="../LDAP18.png" /></p>
<ul>
<li>Seguidament configurem els usuaris al fitxer <code>usu.ldif</code></li>
</ul>
<p><img alt="LDAP19" src="../LDAP19.png" /></p>
<ul>
<li>Com els fitxers anteriors no són per defecte, els hem fet nosaltres, ara els hem d'inserir al LDAP i afegir una nova entrada per tant els afegirem de la següent forma.</li>
</ul>
<p><img alt="LDAP20" src="../LDAP20.png" /></p>
<ul>
<li>Tal i com hem vist abans per confirmar si els canvis s'han aplicat podem utilitzar la comanda <code>slapcat</code>.</li>
</ul>
<p><img alt="LDAP21" src="../LDAP21.png" /></p>
<h2 id="installacio-domini-ldap-amb-un-server">Instal·lació domini LDAP amb un server</h2>
<p>A l'apartat anterior hem vist com instal·lar un domini LDAP amb una maquina Ubuntu amb interficie gràfica, en aquest cas ho instal·larem a un ubuntu server directament, un cop arribem a la configuració de paquets com al pas anterior pararem, aquí es mostraran les diferencies que hi ha al fer-ho sense interficie gràfica.</p>
<ul>
<li>En primer lloc configurarem les opcions de xarxa del nostre server, s'ha de modificar un arxiu netplan en concret. Allà modificarem la nostra ip.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sudo nano /etc/netplan/50-cloud-init.yaml
</code></pre></div>
<img alt="server1" src="../server1.png" />
<img alt="server2" src="../server2.png" /></p>
<ul>
<li>Un cop hem fet aquesta configuració l'haurem d'aplicar i comprovar si s'ha fet correctament.</li>
</ul>
<p><img alt="server3" src="../server3.png" /></p>
<ul>
<li>Ara modifiquem els arxius de hosts i hostnames del directori etc.</li>
</ul>
<p><img alt="server4" src="../server4.png" />
<img alt="server5" src="../server5.png" /></p>
<ul>
<li>Per últim descarregem el paquet ldap i a <code>partir d'aqui seguim els passos anteriors, ja que es el mateix!</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>apt install slapd ldap-utils
</code></pre></div>
<img alt="server6" src="../server6.png" /></li>
</ul>
<h1 id="entorns-grafics">Entorns gràfics</h1>
<ul>
<li>En aquest apartat veurem com configurar un LDAP amb interficie gràfica en aquest cas he escollit Apache Directory Studio perqué és intuitiu i senzill.</li>
</ul>
<h2 id="apache-directory-studio">Apache Directory Studio</h2>
<ul>
<li>En primer lloc, ens descarregem l'apliació de la pàgina oficial. Després l'únic que hem de fer es descomprimir el paquet i executar-lo.</li>
</ul>
<p><img alt="ADS" src="../ADS.png" />
<img alt="ADS1" src="../ADS1.png" /></p>
<ul>
<li>Un cop dins buscarem la connexió que tenim del LDAP i fem login amb les nostres credencials, llavors afegirem noves entrades, aquestes poden ser creades des de zero o amb plantilles, en aquest cas he escollit fer-ne una amb una plantilla per crear un nou usuari. Com podrem comprovar els usuaris que hem creat en els passos anteriors estan presents a la nostra estructura.</li>
</ul>
<p><img alt="ADS3" src="../ADS3.png" />
<img alt="ADS4" src="../ADS4.png" />
<img alt="ADS5" src="../ADS5.png" />
<img alt="ADS6" src="../ADS6.png" /></p>
<ul>
<li>Ara afegirem les classes del objecte que volem agregar.</li>
</ul>
<p><img alt="ADS7" src="../ADS7.png" /></p>
<ul>
<li>A continuació escollim un cn per l'usuari.</li>
</ul>
<p><img alt="ADS8" src="../ADS8.png" /></p>
<ul>
<li>Per últim acabarem de configurar els atributs per a que l'usuari pugui ser utilitzat.</li>
</ul>
<p><img alt="ADS9" src="../ADS9.png" /></p>
<ul>
<li>Com podem veure tenim ja l'usuari creat, tot i això encara fan falta definir les contrasenyes i l'interpret de comandes.</li>
</ul>
<p><img alt="ADS10" src="../ADS10.png" /></p>
<ul>
<li>En aquest cas he escollit la carpeta compartida de perfils per crear la home. I després he donat una contrasenya i el /bin/bash per al loginshell.</li>
</ul>
<p><img alt="ADS11" src="../ADS11.png" />
<img alt="ADS12" src="../ADS12.png" /></p>
<ul>
<li>Per entrar amb el client amb l'usuari nou hem d'escollir l'opció de no esteu llistat i allà posem les nostres credencials i ens crearà la home al directori escollit, després podrem entrar i comprovar que estem amb l'usuari correcte.</li>
</ul>
<p><img alt="ADS13" src="../ADS13.png" />
<img alt="ADS14" src="../ADS14.png" /></p>
<h1 id="unir-equips-al-domini">Unir equips al domini</h1>
<p>En aquesta part veurem com connectar un equip client al domini que hem creat prèviament.</p>
<ul>
<li>
<p>El primer pas seria instal·lar el següent paquet al nostre equip client:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>apt install libnss-ldap libpam-ldap nscd
</code></pre></div>
<img alt="domini1" src="../domini1.png" /></p>
</li>
<li>
<p>Un cop finalitzi l'instal·lació del paquet sen's obrirà una pestanya de configuració similar a l'anterior que hem vist durant la configuració del servidor, en aquest cas es important saber la IP de la màquina servidor ja que serà el primer que configurarem tal i com es mostra a la següent imatge.</p>
</li>
</ul>
<p><img alt="domini2" src="../domini2.png" />
<img alt="domini3" src="../domini3.png" /></p>
<ul>
<li>Un cop feta aquesta part seguirem amb la configuració respectant els noms de domini que hem donat prèviament tal com es mostra a continuació.</li>
</ul>
<p><img alt="domini4" src="../domini4.png" />
<img alt="domini5" src="../domini5.png" />
<img alt="domini6" src="../domini6.png" />
<img alt="domini7" src="../domini7.png" />
<img alt="domini8" src="../domini8.png" />
<img alt="domini9" src="../domini9.png" />
<img alt="domini10" src="../domini10.png" /></p>
<ul>
<li>Amb aquestos pasos ja tindrem el paquet configurat. Seguidament haurem de canviar alguns parametres del client ja que volem que detecti primer el servidor ldap, i ho farem modificant el fitxer <code>etc/nsswitch.conf</code>.</li>
</ul>
<p><img alt="domini11" src="../domini11.png" /></p>
<ul>
<li>
<p>D'aquesta forma ens assegurem que els usuaris que hi han al LDAP siguin revisats pel nostre client, per això li indiquem els fitxers que ha de revisar, els d'usuari, grups i contrasenyes.</p>
</li>
<li>
<p>A continuació veurem com configurar la sessió dels usuaris LDAP, per a fer això també necessitarem configurar el següent fitxer <code>etc/pam.d/common-session</code></p>
</li>
</ul>
<p><img alt="domini12" src="../domini12.png" /></p>
<ul>
<li>
<p>Aquesta modificació assegura que quan un usuari inicia sessió i no té un directori principal, se li crearà automàticament un nou directori principal amb el contingut de <code>/etc/skel</code> i amb els permisos especificats per umask=022.</p>
</li>
<li>
<p>A continuació configurarem ajustant com es presenta la pantalla d'inici de sessió als usuaris, especificant la sessió per defecte i permetent l'accés manual amb el nom d'usuari.</p>
</li>
</ul>
<p><img alt="domini13" src="../domini13.png" /></p>
<ul>
<li>
<p>Amb aquesta configuració indiquem que el gestor de pantalla ha de mostrar una opció per permetre als usuaris introduir manualment el seu nom d'usuari en lloc de seleccionar-lo d'una llista. Això pot ser útil en entorns on hi ha molts usuaris o quan es vol permetre l'accés a usuaris que no apareixen a la llista predeterminada.</p>
</li>
<li>
<p>Seguidament farem una prova per alu1 un usuari inserit i configurat prèviament, primerament ens assegurem de que aquest aparegui al fitxer passwd.</p>
</li>
</ul>
<p><img alt="domini14" src="../domini14.png" /></p>
<ul>
<li>Com aquest apariex reeiniciarem el sistema i a l'hora d'escollir usuari seleccionarem l'opció de no apareixeu llistat, llavors indicarem usuari i contrasenya. Una altra opció es fer-ho des del terminal, canviant d'usuari amb su alu1. La qüestió es poder utilitzar l'usuari alu1.</li>
</ul>
<p><img alt="domini15" src="../domini15.png" />
<img alt="domini16" src="../domini16.png" /></p>
<h1 id="gestio-del-domini">Gestió del domini</h1>
<p>Per crear l’esquema bàsic de l’organització i començar a treballar hi ha dues opcions: fitxers ldif, i utilitzar comandes. En aquest apartat veurem les comandes que hi han tips que hi ha com ara, "search", "add", "modify", i "delete".</p>
<ul>
<li>Abans de començar comprovarem com he, vist anteriorment que tenim el domini ben creat i després veurem que a la carpeta d'escriptori hi ha uns arxius preparats amb dades d'usuaris.</li>
</ul>
<p><img alt="GD1" src="../GD1.png" />
<img alt="GD2" src="../GD2.png" />
<img alt="GD3" src="../GD3.png" /></p>
<ul>
<li>Com es pot veure el fitxer esta ple de dades d'usuaris que voldrem agregar, i ho farem amb un add.</li>
</ul>
<h2 id="ldapadd">ldapadd</h2>
<ul>
<li>Amb la comanda <code>ldapadd</code> podrem afegir els usuaris que hem vist abans per fer-ho utilitzarem la següent comanda.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>ldapadd -x -D &quot;cn=admin,dc=sabate,dc=cat&quot; -w marc -f dades.ldif
</code></pre></div>
<img alt="GD4" src="../GD4.png" /></p>
<ul>
<li>
<p>Com podem veure s'han afegit els usuaris que tenim al fitxer.</p>
</li>
<li>
<p>També podem crear usuaris nous creant un fitxer ldif nou, i agregant-lo com es mostra.</p>
</li>
</ul>
<p><img alt="GD5" src="../GD5.png" />
<img alt="GD6" src="../GD6.png" /></p>
<h2 id="ldapsearch">ldapsearch</h2>
<ul>
<li>Com hem creat diferents usuaris ara voldrem comprovar la seva existancia i ho farem amb un <code>ldapsearch</code></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>ldapsearch -xLLL -b &quot;dc=sabate,dc=cat&quot;
</code></pre></div>
<ul>
<li>Després d'això podem afegir diferents filtres per buscar segons uid, objectclass, email, el que ens interessi.</li>
</ul>
<p><img alt="GD7" src="../GD7.png" />
<img alt="GD8" src="../GD8.png" /></p>
<h2 id="ldapmodify">ldapmodify</h2>
<ul>
<li>Per modificar alguna entrada podem utilitzar un modify, podem modificar qualsevol informació que vulguem en aquest cas canviarem el cognom de l'usuari que hem creat.</li>
</ul>
<p><img alt="GD9" src="../GD9.png" /></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>ldapmodify -x -D &quot;cn=admin,dc=sabate,dc=cat&quot; -w marc -f fitxer.ldif
</code></pre></div>
<img alt="GD10" src="../GD10.png" /></p>
<ul>
<li>Com es pot veure l'entrada dn: del nostre usuari no es correspont amb la modificació feta prèviament, per tant, també l'haurem de modificar, i ho farem de la següent forma.</li>
</ul>
<p><img alt="GD11" src="../GD11.png" />
<img alt="GD12" src="../GD12.png" /></p>
<ul>
<li>Finalment veurem com esborrar informació o bé es pot fer a través d'un ditxer ldif amb el modify o amb un <code>ldapdelete</code></li>
</ul>
<h2 id="ldapdelete">ldapdelete</h2>
<ul>
<li>Finalment eliminarem l'usuari que hem creat, ja que no seguirà entre nosaltres.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>ldapdelete -x -D &quot;cn=admin,dc=sabate,dc=cat&quot; -w contrasenya &quot;cn=Reynolds,ou=users,dc=sabate,dc=cat&quot;
</code></pre></div>
<img alt="GD13" src="../GD13.png" /></p>
<h1 id="servidors-nfs">Servidors NFS</h1>
<p>El NFS és un protocol que permet compartir fitxers i directoris RECURSOS a través d'una xarxa. Amb NFS, un servidor pot exportar directoris i els clients poden muntar aquests directoris com si fossin locals. Això és útil en entorns on múltiples màquines necessiten accedir als mateixos fitxers, com en entorns de treball en equip o en sistemes distribuïts.
En un entorn NFS, l'autenticació es fa a nivell de host, no a nivell d'usuari. Això vol dir que el servidor NFS confia en les màquines clients que tenen permís per accedir als directoris exportats.
Els usuaris poden tenir un directori home centralitzat que es munta automàticament en qualsevol màquina de la xarxa, gràcies a la integració de NFS i LDAP.</p>
<h3 id="installacio-part-server">Instal·lació part server</h3>
<p>En aquesta part veurem con instal·lar NFS a la part del servidor, simplement obrim un terminal fem un update i un cop acabat procedim amb les següents comandes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>apt install nfs-kernel-server
</code></pre></div>
<p><img alt="NFS1" src="../NFS1.png" /></p>
<p>Un cop instal·lat verifiquem que s'hagi fet correctament.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>systemctl status nfs-server
</code></pre></div>
<p><img alt="NFS2" src="../NFS2.png" /></p>
<p>Amb això ja tindrem el paquet NFS instal·lat.</p>
<h3 id="installacio-part-client-ubuntu">Instal·lació part client Ubuntu</h3>
<p>A continuació veurem com instalar la part del client. Igual que amb el server primer fem un apt update i després instal·lem el següent paquet.
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>apt install nfs-common rpcbind
</code></pre></div></p>
<p><img alt="NFS3" src="../NFS3.png" /></p>
<p>Amb aquest pas ja tenim la part del client ubunutu instal·lada.</p>
<h3 id="installacio-part-client-windows">Instal·lació part client Windows</h3>
<p>Per instal·lar la part del NFS a Windows ens hem de dirigir a la part del panell de control i un cop allà buscar programes i caracteristiques, a la part esquerra podrem activar les caracteristiques i activarem les que veurem a continuació.</p>
<p><img alt="NFS4" src="../NFS4.png" />
<img alt="NFS5" src="../NFS5.png" /></p>
<h3 id="utilitzar-el-servidor-nfs">Utilitzar el servidor NFS</h3>
<ul>
<li>Per començar a utilitzar el servidor NFS el primer que farem serà crear un directori a la nostra màquina servidor i li canviarem els permisos.</li>
</ul>
<p><img alt="NFS6" src="../NFS6.png" /></p>
<ul>
<li>Per poder compartir la carpeta que hem fet modificarem l'arxiu <code>/etc/exports</code> i aquí posarem la ruta de la nostra carpeta i els següents parametres. *: Permet l'acces a tots els clients. rw: Permet lectura i escriptura (read-write). sync: Assegura que les operacions d'escriptura es completen abans de respondre al client. no_subtree_check: Millora el rendiment en no comprovar els subdirectoris.</li>
</ul>
<p><img alt="NFS7" src="../NFS7.png" /></p>
<ul>
<li>Un cop feta aquesta modificació haurem de reiniciar el sevei per a que els canvi s'apliquin. Després crearem un arxiu per fer proves a la carpeta compartida desde la nostra màquina servidor.</li>
</ul>
<p><img alt="NFS8" src="../NFS8.png" /></p>
<ul>
<li>Ara que ja tenim la carpeta preparada entrarem desde el nostre client Windows, a l'explorador d'arxius si anem a altres ubiacacions i allà posem l'adreça del nostre servidor podrem connectar-nos.</li>
</ul>
<p><img alt="NFS9" src="../NFS9.png" /></p>
<ul>
<li>Per fer alguna prova crearem un nou arxiu de text, també veurem que el de proves es pot llegir correctament.</li>
</ul>
<p><img alt="NFS10" src="../NFS10.png" />
<img alt="NFS11" src="../NFS11.png" /></p>
<ul>
<li>Comprovarem que s'hagi efectuat tot correctament des de el propi servidor, amb la comanda ls -l per veure quins permisos tenen els fitxers.</li>
</ul>
<p><img alt="NFS12" src="../NFS12.png" /></p>
<ul>
<li>A continuació entrarem des de el nostre client Ubuntu, aquest cop muntarem la carpeta compartida a un directori que crearem per allotjar-la, també haurem de canviar-li els permisos i ara per muntra-la hem d'utilitzar la següent comanda.
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>mount ipservidor:/compartida /directoriclient
</code></pre></div></li>
</ul>
<p><img alt="NFS13" src="../NFS13.png" /></p>
<ul>
<li>Seguidament, revisarem el contingut de la carpeta compartida per veure si es el mateix i després crearem un fitxer nou i veurem els seus permisos.</li>
</ul>
<p><img alt="NFS14" src="../NFS14.png" /></p>
<p><img alt="NFS15" src="../NFS15.png" /></p>
<h4 id="nfs-amb-usuaris-ldap">NFS amb usuaris LDAP</h4>
<ul>
<li>Per començar, tornem a configurar la nova ruta que volem compartir amb els usuaris de ldap des de la nostra màquina servidor. </li>
</ul>
<p><img alt="NFS16" src="../NFS16.png" /></p>
<ul>
<li>Un cop creada la ruta, crearem el directori amb els permisos corresponents des del servidor.</li>
</ul>
<p><img alt="NFS17" src="../NFS17.png" /></p>
<ul>
<li>La principal diferencia es que ara també haurem de modificar el ldap per tal de que el directori de la home dels usuaris sigui la carpeta compartida que hem fet.</li>
</ul>
<p><img alt="LFAPF" src="../LDAPF.png" /></p>
<ul>
<li>Com hem creat un usuari nou per fer aquestes proves l'hem d'afegir al ldap.</li>
</ul>
<p><img alt="LDAPF2" src="../LDAPF2.png" /></p>
<ul>
<li><code>IMPORTANT</code> Aquesta part es configura al <code>CLIENT</code>, la mala configuració pot provocar que el sistema no arranqui. Primer crearem la carpeta amb els seus permisos pertinents.</li>
</ul>
<p><img alt="LDAPF4" src="../LDAPF4.png" /></p>
<ul>
<li>Ara configurarem el fitxer <code>fstab</code> es important copiar correctament aquests parametres. Bàsicament el que estem fent es muntar un directori nfs. </li>
</ul>
<p><img alt="LDAPF3" src="../LDAPF3.png" /></p>
<ul>
<li>Per últim reiniciem el nostre client i quan ens demani les credencials d'usuari posem que no estem llistats i escrivim les credencials de l'usuari en aquest cas alu4.</li>
</ul>
<p><img alt="LDAPF5" src="../LDAPF5.png" />
<img alt="LDAPF6" src="../LDAPF6.png" /></p>
<ul>
<li>Un cop dins comprovem que l'usuari es el corresponent.</li>
</ul>
<h1 id="servidor-samba">Servidor Samba</h1>
<p>Samba és una implementació lliure del protocol SMB/CIFS, que permet compartir arxius i impressores entre sistemes Windows i Linux. Samba pot autenticar usuaris localment o mitjançant un servidor LDAP. Això permet gestionar usuaris i permisos de manera centralitzada.</p>
<h2 id="installacio-i-conf-server">Instal·lació i conf server</h2>
<ul>
<li>
<p>EN primer lloc com hem vist altres vegades farem un update del nostre servidor i després procedirem instal·lant el paquet smb. 
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>apt install samba
</code></pre></div>
<img alt="sambaserver" src="../sambaserver.png" /></p>
</li>
<li>
<p>Un cop tenim el paquet instal·lat procedirem a crear una carpeta a l'arrel i assignar-li els permisos adients.</p>
</li>
</ul>
<p><img alt="sambaserver2" src="../sambaserver2.png" /></p>
<ul>
<li>Per continuar, entrarem al fitxer de configuració de samba <code>/etc/samba/smb.conf</code> aquí definirem la ruta de la carpeta que volem compartir i adicionalment podrem assignar rols i permisos als usuaris i grups, en aquest cas farem uns usaris del grup colors per veure un amb tots el permisos, un amb sol permis de lectura i un sense permisos.</li>
</ul>
<p><img alt="sambaserver3" src="../sambaserver3.png" /></p>
<ul>
<li>Després de cada cop que fem una modificació al fitxer de configuració per apliacr aquestos canvis haurem de fer un reeinici del sistema, amb la comanda <code>systemctl restart smbd nmbd</code>.</li>
</ul>
<p><img alt="sambaserver4" src="../sambaserver4.png" /></p>
<ul>
<li>A continuació, crearem els usuaris, aquest cop ho farem amb una comanda per a que aquest no iniciin sessió, i el seu interpret de comandes sigui el /bin/bash. 
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>useradd -M -s /sbin/nologin usuari
</code></pre></div></li>
</ul>
<p><img alt="sambaserver5" src="../sambaserver5.png" /></p>
<ul>
<li>Amb el matiex metode que creem el primer usuari crearem els altres i el grup. Com es pot apreciar l'usuari blau no està al grup.</li>
</ul>
<p><img alt="sambaserver6" src="../sambaserver6.png" /></p>
<ul>
<li>Per comprovar que els usuaris i el grup han estat creats correctament farem un tail dels fitxers <code>/etc/group</code> i <code>/etc/passwd</code></li>
</ul>
<p><img alt="sambaserver7" src="../sambaserver7.png" /></p>
<ul>
<li>Per a que aquestos usuaris pugin entrar al servidor samba els assignem una contrasenya per a aquest servei amb la comanda següent. 
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>smbpasswd -a usuari
</code></pre></div></li>
</ul>
<p><img alt="sambaserver8" src="../sambaserver8.png" /></p>
<ul>
<li>Per últim canviarem algúns permisos com ara que l'usuari roig no pugui entrar, que els usuaris del grup colors puguin llegir i que balu pot llegir i escriure. També podrem iniciar sessió com a convidat.</li>
</ul>
<p><img alt="sambaserver9" src="../sambaserver9.png" /></p>
<h2 id="installacio-i-proves-client">Instal·lació i proves client</h2>
<ul>
<li>Per configurar la part del client, repetirem els passos anteriors, fer un update i després instal·lar el paquet de samba.</li>
</ul>
<p><img alt="sambaclient" src="../sambaclient.png" /></p>
<ul>
<li>Un cop hem instal·lat el paquet obrim l'explorador d'arxius i ha altres ubicacions posarem l'adreça del nostre server i amb que ens connectem (samba).</li>
</ul>
<p><img alt="sambaclient2" src="../sambaclient2.png" /></p>
<ul>
<li>Un cop ens connectem la primera pantalla que ens apareix es per entrar com a convidat o com usuari registrat. Primer farem les proves amb un usuari convidat.</li>
</ul>
<p><img alt="sambaclietn3" src="../sambaclient3.png" /></p>
<ul>
<li><code>IMPORTANT</code> (aquesta part es al server) .Ara per assegurar-nos eliminem l'opció de read only ja que també volem escriure amb els usuaris. Un cop fet els canvis hem de reiniciar el sistema.</li>
</ul>
<p><img alt="sambaclient4" src="../sambaclient4.png" />
<img alt="sambaclient5" src="../sambaclient5.png" /></p>
<ul>
<li>Quan acabem amb al servidor, tornem al client i fem les proves corresponents amb els usuaris. Per això ens connectarem a la carpeta compartida a través de l'explorador d'arxius i a la part d'altres ubiacacions possarem l'adreça del nostre servidor samba. I la primera opció serà entrar com convidat / anonim. Per comprovar que podem crear un directori.</li>
</ul>
<p><img alt="sambaclient6" src="../sambaclient6.png" /></p>
<ul>
<li>Després, provarem amb el primer usuari i el que te mes permisos que és blau. Amb el mateix metode que abans posarem les credencials de blau i crearem un directori nou.</li>
</ul>
<p><img alt="sambaclient7" src="../sambaclient7.png" />
<img alt="sambaclient8" src="../sambaclient8.png" /></p>
<ul>
<li>Per veure si els directoris que hem creat tenen els permisos corresponents als seus usuaris anem al <code>SERVER</code> i allà dins de la carpeta que compartim amb samba i fem un ls -l.</li>
</ul>
<p><img alt="sambaclient9" src="../sambaclient9.png" /></p>
<ul>
<li>Com funciona adequadament procedim amb els usuaris que queden, tornem al client i entrem com roig, i com aquest no pot entrar ens retorna a la pantalla de "login".</li>
</ul>
<p><img alt="sambaclient10" src="../sambaclient10.png" /></p>
<ul>
<li>Finalment entrarem amb l'usuari groc i farem un directori, com no te permisos d'escriptura ens donarà un error.</li>
</ul>
<p><img alt="sambaclient11" src="../sambaclient11.png" />
<img alt="sambaclient12" src="../sambaclient12.png" /></p>
<h2 id="utilitzar-usuaris-ldap-per-autenticar-amb-samba">Utilitzar usuaris ldap per autenticar amb samba</h2>
<ul>
<li>Aquest apartat no es pot realitzar.</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      
&copy; 2024 <a href="https://marcgnd.github.io/mkdocs-marc-sabate/Sprint1/#-llicencia-cc"  target="_blank" rel="noopener">Creative commons </a> 
<img src="./CC.png" width="70" height="70">

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>